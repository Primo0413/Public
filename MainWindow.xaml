<!--  主界面窗口定义  -->
<Window
    x:Class="WPFSerialAssistant.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:hc="clr-namespace:HandyControl.Controls;assembly=HandyControl"
    xmlns:local="clr-namespace:WPFSerialAssistant"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="串口助手(Version V0.1)"
    Width="1024"
    Height="640"
    MinWidth="1024"
    MinHeight="640"
    Closing="Window_Closing"
    PreviewKeyDown="Window_KeyDown"
    WindowStartupLocation="CenterScreen"
    mc:Ignorable="d">
    <!--  布局容器DockPanel 命名为rootPanel  -->
    <DockPanel Name="rootPanel">
        <!--  菜单栏  顶部显示  -->
        <Menu
            Name="menuBar"
            Padding="2"
            DockPanel.Dock="Top">
            <MenuItem Header="文件(_F)">
                <MenuItem
                    Name="saveSerialDataMenuItem"
                    Click="saveSerialDataMenuItem_Click"
                    Header="保存(_S)"
                    Visibility="Collapsed" />
                <MenuItem
                    Name="saveConfigMenuItem"
                    Click="saveConfigMenuItem_Click"
                    Header="保存配置" />
                <MenuItem
                    Name="loadConfigMenuItem"
                    Click="loadConfigMenuItem_Click"
                    Header="加载配置(_L)"
                    Visibility="Collapsed" />
                <MenuItem
                    Name="exitMenuItem"
                    Click="exitMenuItem_Click"
                    Header="退出" />
            </MenuItem>

            <MenuItem Header="设置(_S)">
                <MenuItem Header="发送追加">
                    <RadioButton
                        Name="appendNoneRadioButton"
                        Click="appendRadioButton_Click"
                        Content="无                  "
                        Tag="none" />
                    <RadioButton
                        Name="appendReturnRadioButton"
                        HorizontalContentAlignment="Left"
                        Click="appendRadioButton_Click"
                        Content="回车(\r)          "
                        Tag="return" />
                    <RadioButton
                        Name="appednNewLineRadioButton"
                        HorizontalContentAlignment="Left"
                        Click="appendRadioButton_Click"
                        Content="新行(\n)          "
                        IsChecked="True"
                        Tag="newline" />
                    <RadioButton
                        Name="appendReturnNewLineRadioButton"
                        HorizontalContentAlignment="Left"
                        Click="appendRadioButton_Click"
                        Content="回车新行(\r\n) "
                        Tag="retnewline" />
                </MenuItem>
            </MenuItem>

            <MenuItem Header="视图(_V)">
                <MenuItem
                    Name="serialSettingViewMenuItem"
                    Click="serialSettingViewMenuItem_Click"
                    Header="串口配置面板"
                    IsChecked="True" />
                <MenuItem
                    Name="autoSendDataSettingViewMenuItem"
                    Click="autoSendDataSettingViewMenuItem_Click"
                    Header="自动发送设置面板"
                    IsChecked="False" />
                <MenuItem
                    Name="serialCommunicationSettingViewMenuItem"
                    Click="serialCommunicationSettingViewMenuItem_Click"
                    Header="通信设置面板"
                    IsChecked="True" />
                <MenuItem
                    Name="compactViewMenuItem"
                    Click="compactViewMenuItem_Click"
                    Header="简洁视图"
                    IsChecked="False"
                    Visibility="Visible" />
            </MenuItem>
            <MenuItem Header="帮助(_H)">
                <MenuItem
                    Name="aboutMenuItem"
                    Click="aboutMenuItem_Click"
                    Header="关于(_A)" />
                <MenuItem
                    Name="helpMenuItem"
                    Click="helpMenuItem_Click"
                    Header="软件文档(_D)" />
            </MenuItem>
        </Menu>
        <!--  状态栏  -->
        <StatusBar
            Name="statusBar"
            Padding="2"
            Background="#FF007ACC"
            DockPanel.Dock="Bottom">
            <StatusBarItem HorizontalAlignment="Left">
                <TextBlock Name="statusInfoTextBlock" Foreground="White">欢迎使用串口助手！</TextBlock>
            </StatusBarItem>
            <StatusBarItem>
                <ProgressBar
                    Name="progressBar"
                    Width="150"
                    Height="10"
                    Margin="10,0,0,0"
                    Background="{Binding ElementName=statusBar, Path=Background}"
                    BorderBrush="White"
                    Foreground="White"
                    IsIndeterminate="True"
                    SmallChange="1"
                    Visibility="Collapsed"
                    Value="10" />
            </StatusBarItem>
            <StatusBarItem
                Name="dataRecvStatusBarItem"
                Margin="0,0,0,0"
                Visibility="Collapsed">
                <StackPanel Orientation="Horizontal">
                    <Ellipse
                        Width="5"
                        Height="5"
                        Margin="0,0,5,0"
                        Fill="White" />
                    <Ellipse
                        Width="5"
                        Height="5"
                        Margin="0,0,5,0"
                        Fill="White" />
                    <Ellipse
                        Width="5"
                        Height="5"
                        Margin="0,0,5,0"
                        Fill="White" />
                    <Ellipse
                        Width="5"
                        Height="5"
                        Margin="0,0,5,0"
                        Fill="White" />
                    <Ellipse
                        Width="5"
                        Height="5"
                        Margin="0,0,5,0"
                        Fill="White" />
                    <Ellipse
                        Width="5"
                        Height="5"
                        Fill="White" />
                </StackPanel>
            </StatusBarItem>
            <StatusBarItem HorizontalAlignment="Right">
                <TextBlock Name="timeDateTextBlock" Foreground="White" />
            </StatusBarItem>
        </StatusBar>
        <Grid>
            <DockPanel>
                <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
                    <Grid DockPanel.Dock="Left" Visibility="Visible">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="300" />
                            <RowDefinition />
                        </Grid.RowDefinitions>
                        <GroupBox
                            Name="serialPortConfigPanel"
                            Grid.Row="0"
                            Margin="5,5,0,0"
                            BorderBrush="#FF7199E0"
                            BorderThickness="1"
                            Header="串口配置面板"
                            Style="{x:Null}">
                            <DockPanel>
                                <!--  可用端口  -->
                                <Grid Margin="0,10" DockPanel.Dock="Top">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="8*" />
                                        <ColumnDefinition Width="10*" />
                                    </Grid.ColumnDefinitions>
                                    <TextBlock
                                        Grid.Column="0"
                                        Margin="0,0,25,0"
                                        VerticalAlignment="Center"
                                        Text="可用端口" />
                                    <ComboBox
                                        Name="portsComboBox"
                                        Grid.Column="1"
                                        Width="100"
                                        Padding="5"
                                        IsEnabled="False" />
                                </Grid>
                                <!--  通讯波特率  -->
                                <Grid Margin="0,0,0,10" DockPanel.Dock="Top">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="8*" />
                                        <ColumnDefinition Width="10*" />
                                    </Grid.ColumnDefinitions>
                                    <TextBlock
                                        Grid.Column="0"
                                        VerticalAlignment="Center"
                                        Text="通讯波特率" />
                                    <ComboBox
                                        Name="baudRateComboBox"
                                        Grid.Column="1"
                                        Width="100"
                                        Padding="5"
                                        IsEditable="True">
                                        <ComboBoxItem>1200</ComboBoxItem>
                                        <ComboBoxItem>2400</ComboBoxItem>
                                        <ComboBoxItem>4800</ComboBoxItem>
                                        <ComboBoxItem IsSelected="True">9600</ComboBoxItem>
                                        <ComboBoxItem>19200</ComboBoxItem>
                                        <ComboBoxItem>38400</ComboBoxItem>
                                        <ComboBoxItem>115200</ComboBoxItem>
                                    </ComboBox>
                                </Grid>
                                <!--  奇偶校验位  -->
                                <Grid Margin="0,0,0,10" DockPanel.Dock="Top">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="8*" />
                                        <ColumnDefinition Width="10*" />
                                    </Grid.ColumnDefinitions>
                                    <TextBlock
                                        Grid.Column="0"
                                        VerticalAlignment="Center"
                                        Text="奇偶校验位" />
                                    <ComboBox
                                        Name="parityComboBox"
                                        Grid.Column="1"
                                        Width="100"
                                        Padding="5"
                                        Text="无(None)">
                                        <ComboBoxItem IsSelected="True" Tag="None">无(None)</ComboBoxItem>
                                        <ComboBoxItem Tag="Even">偶校验(Even)</ComboBoxItem>
                                        <ComboBoxItem Tag="Odd">奇校验(Odd)</ComboBoxItem>
                                        <ComboBoxItem Tag="Space">保留为0(Space)</ComboBoxItem>
                                        <ComboBoxItem Tag="Mark">保留为1(Mark)</ComboBoxItem>
                                    </ComboBox>
                                </Grid>
                                <!--  数据位  -->
                                <Grid Margin="0,0,0,10" DockPanel.Dock="Top">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="8*" />
                                        <ColumnDefinition Width="10*" />
                                    </Grid.ColumnDefinitions>
                                    <TextBlock
                                        Grid.Column="0"
                                        VerticalAlignment="Center"
                                        Text="数据位" />
                                    <ComboBox
                                        Name="dataBitsComboBox"
                                        Grid.Column="1"
                                        Width="100"
                                        Padding="5">
                                        <ComboBoxItem IsSelected="True">8</ComboBoxItem>
                                        <ComboBoxItem>7</ComboBoxItem>
                                        <ComboBoxItem>6</ComboBoxItem>
                                        <ComboBoxItem>5</ComboBoxItem>
                                    </ComboBox>
                                </Grid>
                                <!--  停止位  -->
                                <Grid Margin="0,0,0,10" DockPanel.Dock="Top">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="8*" />
                                        <ColumnDefinition Width="10*" />
                                    </Grid.ColumnDefinitions>
                                    <TextBlock
                                        Grid.Column="0"
                                        VerticalAlignment="Center"
                                        Text="停止位" />
                                    <ComboBox
                                        Name="stopBitsComboBox"
                                        Grid.Column="1"
                                        Width="100"
                                        Padding="5">
                                        <ComboBoxItem IsSelected="True">1</ComboBoxItem>
                                        <ComboBoxItem>1.5</ComboBoxItem>
                                        <ComboBoxItem>2</ComboBoxItem>
                                    </ComboBox>
                                </Grid>
                                <!--  字节编码  -->
                                <Grid Margin="0,0,0,10" DockPanel.Dock="Top">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="8*" />
                                        <ColumnDefinition Width="10*" />
                                    </Grid.ColumnDefinitions>
                                    <TextBlock
                                        Grid.Column="0"
                                        VerticalAlignment="Center"
                                        Text="字节编码" />
                                    <ComboBox
                                        Name="encodingComboBox"
                                        Grid.Column="1"
                                        Width="100"
                                        Padding="5">
                                        <ComboBoxItem IsSelected="True">Default</ComboBoxItem>
                                        <ComboBoxItem>ASCII</ComboBoxItem>
                                        <ComboBoxItem>Unicode</ComboBoxItem>
                                        <ComboBoxItem>UTF-8</ComboBoxItem>
                                    </ComboBox>
                                </Grid>
                                <Grid Margin="0,0,0,0" DockPanel.Dock="Bottom">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="10*" />
                                        <ColumnDefinition Width="10*" />
                                    </Grid.ColumnDefinitions>
                                    <Button
                                        Name="openClosePortButton"
                                        Grid.Column="0"
                                        Width="67"
                                        Padding="3"
                                        Click="openClosePortButton_Click"
                                        IsEnabled="{Binding ElementName=portsComboBox, Path=IsEnabled}"
                                        Style="{StaticResource ButtonPrimary}">
                                        打开
                                    </Button>
                                    <Button
                                        Name="findPortButton"
                                        Grid.Column="1"
                                        Width="67"
                                        Padding="3"
                                        Click="findPortButton_Click"
                                        Style="{StaticResource ButtonPrimary}">
                                        查找
                                    </Button>
                                </Grid>
                            </DockPanel>
                        </GroupBox>
                        <GroupBox
                            x:Name="CheckConfigPanel"
                            Grid.Row="1"
                            Margin="5,5,0,5"
                            BorderBrush="#FF7199E0"
                            BorderThickness="1"
                            Header="校验配置面板"
                            Style="{x:Null}">
                            <StackPanel>
                                <GroupBox
                                    Height="70"
                                    Margin="0,5,0,0"
                                    BorderBrush="{Binding BorderBrush, ElementName=serialPortConfigPanel}"
                                    BorderThickness="{Binding BorderThickness, ElementName=serialPortConfigPanel}"
                                    Header="校验方式"
                                    Style="{x:Null}">
                                    <StackPanel VerticalAlignment="Center" Orientation="Horizontal">
                                        <hc:ButtonGroup
                                            Height="38"
                                            Margin="15,0,0,0"
                                            VerticalAlignment="Center"
                                            Orientation="Horizontal"
                                            Style="{StaticResource ButtonGroupSolid}">
                                            <RadioButton
                                                x:Name="CheckNoneRadioButton"
                                                Checked="CheckModeButton_Checked"
                                                Content="None"
                                                Style="{StaticResource RadioButtonIcon}"
                                                Tag="None" />
                                            <RadioButton
                                                x:Name="CheckCrcRadioButton"
                                                Checked="CheckModeButton_Checked"
                                                Content="CRC-16"
                                                Style="{StaticResource RadioButtonIcon}"
                                                Tag="CRC16" />
                                        </hc:ButtonGroup>
                                    </StackPanel>
                                </GroupBox>
                                <GroupBox
                                    Height="125"
                                    Margin="0,5,0,0"
                                    BorderBrush="{Binding BorderBrush, ElementName=serialPortConfigPanel}"
                                    BorderThickness="{Binding BorderThickness, ElementName=serialPortConfigPanel}"
                                    Header="校验位置"
                                    Style="{x:Null}">
                                    <StackPanel>
                                        <hc:ButtonGroup
                                            Margin="0,10,0,0"
                                            Orientation="Vertical"
                                            Style="{StaticResource ButtonGroupSolid}">
                                            <RadioButton
                                                x:Name="noCheckPositionRadioButton"
                                                Click="CheckPosButton_Click"
                                                Content="无"
                                                Tag="None" />
                                            <RadioButton
                                                x:Name="lastCheckPositionRadioButton"
                                                Click="CheckPosButton_Click"
                                                Content="最后"
                                                Tag="Last"
                                                Unchecked="CheckPosButton_Unchecked" />
                                            <RadioButton
                                                x:Name="lasttwoCheckPositionRadioButton"
                                                Click="CheckPosButton_Click"
                                                Content="向前两个字节"
                                                Tag="LastTow"
                                                Unchecked="CheckPosButton_Unchecked" />
                                        </hc:ButtonGroup>
                                    </StackPanel>
                                </GroupBox>
                            </StackPanel>
                        </GroupBox>
                    </Grid>
                </ScrollViewer>

                <Grid
                    Name="serialCommunicationConfigPanel"
                    Margin="0,5,5,5"
                    DockPanel.Dock="Right"
                    Visibility="Visible">
                    <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
                        <GroupBox
                            BorderBrush="{Binding ElementName=serialPortConfigPanel, Path=BorderBrush}"
                            BorderThickness="{Binding ElementName=serialPortConfigPanel, Path=BorderThickness}"
                            Header="通信设置面板"
                            Style="{x:Null}">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="8*" />
                                    <RowDefinition Height="12*" />
                                </Grid.RowDefinitions>
                                <GroupBox
                                    Grid.Row="0"
                                    Margin="5"
                                    BorderBrush="{Binding ElementName=serialPortConfigPanel, Path=BorderBrush}"
                                    BorderThickness="{Binding ElementName=serialPortConfigPanel, Path=BorderThickness}"
                                    Header="接收设置"
                                    Style="{x:Null}">
                                    <StackPanel>
                                        <CheckBox
                                            Name="showRecvDataCheckBox"
                                            Margin="7,15,0,10"
                                            Padding="0"
                                            Click="showRecvDataCheckBox_Click"
                                            Content="显示接收数据"
                                            IsChecked="True" />
                                        <GroupBox
                                            Margin="5,5,0,10"
                                            BorderBrush="{Binding ElementName=serialPortConfigPanel, Path=BorderBrush}"
                                            BorderThickness="{Binding ElementName=serialPortConfigPanel, Path=BorderThickness}"
                                            Header="显示方式"
                                            Style="{x:Null}">
                                            <StackPanel>
                                                <hc:ButtonGroup
                                                    Height="38"
                                                    VerticalAlignment="Center"
                                                    Orientation="Horizontal"
                                                    Style="{StaticResource ButtonGroupSolid}">
                                                    <RadioButton
                                                        Name="recvCharacterRadioButton"
                                                        Checked="recvModeButton_Checked"
                                                        IsChecked="True"
                                                        Tag="char">
                                                        字符串
                                                    </RadioButton>
                                                    <RadioButton
                                                        Name="recvHexRadioButton"
                                                        Checked="recvModeButton_Checked"
                                                        Tag="hex">
                                                        十六进制
                                                    </RadioButton>
                                                </hc:ButtonGroup>
                                            </StackPanel>
                                        </GroupBox>
                                        <StackPanel>
                                            <Button
                                                Name="saveRecvDataButton"
                                                Width="140"
                                                Margin="5"
                                                Padding="3"
                                                Click="saveRecvDataButton_Click"
                                                Content="保存接收区数据"
                                                Style="{StaticResource ButtonPrimary}"
                                                ToolTip="使用Ctrl+S也可以快捷保存哦！" />
                                            <Button
                                                Name="clearRecvDataBoxButton"
                                                Width="140"
                                                Margin="5,10,5,10"
                                                Padding="3"
                                                Click="clearRecvDataBoxButton_Click"
                                                Content="清空接收区"
                                                Style="{StaticResource ButtonPrimary}" />
                                        </StackPanel>
                                    </StackPanel>
                                </GroupBox>
                                <GroupBox
                                    Grid.Row="1"
                                    Margin="5"
                                    BorderBrush="{Binding ElementName=serialPortConfigPanel, Path=BorderBrush}"
                                    BorderThickness="{Binding ElementName=serialPortConfigPanel, Path=BorderThickness}"
                                    Header="发送设置"
                                    Style="{x:Null}">
                                    <StackPanel>
                                        <GroupBox
                                            Margin="0,10,0,10"
                                            BorderBrush="{Binding ElementName=serialPortConfigPanel, Path=BorderBrush}"
                                            BorderThickness="{Binding ElementName=serialPortConfigPanel, Path=BorderThickness}"
                                            Header="发送方式"
                                            Style="{x:Null}">
                                            <StackPanel>
                                                <hc:ButtonGroup
                                                    Height="38"
                                                    Margin="0"
                                                    VerticalAlignment="Center"
                                                    Orientation="Horizontal"
                                                    Style="{StaticResource ButtonGroupSolid}">
                                                    <RadioButton
                                                        Name="sendCharacterRadioButton"
                                                        Click="sendDataModeRadioButton_Click"
                                                        Content="字符串"
                                                        IsChecked="True"
                                                        Style="{StaticResource RadioButtonIcon}"
                                                        Tag="char" />
                                                    <RadioButton
                                                        Name="sendHexRadioButton"
                                                        Click="sendDataModeRadioButton_Click"
                                                        Content="十六进制"
                                                        Style="{StaticResource RadioButtonIcon}"
                                                        Tag="hex" />
                                                </hc:ButtonGroup>
                                            </StackPanel>
                                        </GroupBox>

                                        <GroupBox
                                            Margin="0,5,0,10"
                                            BorderBrush="{Binding ElementName=serialPortConfigPanel, Path=BorderBrush}"
                                            BorderThickness="{Binding ElementName=serialPortConfigPanel, Path=BorderThickness}"
                                            Header="发送内容"
                                            Style="{x:Null}">
                                            <StackPanel>
                                                <hc:ButtonGroup
                                                    Height="38"
                                                    Margin="0"
                                                    VerticalAlignment="Center"
                                                    Orientation="Horizontal"
                                                    Style="{StaticResource ButtonGroupSolid}">
                                                    <RadioButton
                                                        Name="manualInputRadioButton"
                                                        Click="manualInputRadioButton_Click"
                                                        Content="手动输入"
                                                        IsChecked="True"
                                                        Style="{StaticResource RadioButtonIcon}" />
                                                    <RadioButton
                                                        Name="loadFileRadioButton"
                                                        Click="loadFileRadioButton_Click"
                                                        Content="加载文件"
                                                        IsEnabled="false"
                                                        Style="{StaticResource RadioButtonIcon}" />
                                                </hc:ButtonGroup>
                                            </StackPanel>
                                        </GroupBox>
                                        <Button
                                            Name="clearSendDataTextBox"
                                            Width="140"
                                            Margin="5,10,5,5"
                                            Padding="3"
                                            Click="clearSendDataTextBox_Click"
                                            Content="清空发送区"
                                            Style="{StaticResource ButtonPrimary}" />
                                        <Button
                                            Name="saveSendDataTextBox"
                                            Width="140"
                                            Margin="5,10,5,5"
                                            Padding="3"
                                            Content="保存发送区数据"
                                            IsEnabled="False"
                                            Style="{StaticResource ButtonPrimary}" />
                                    </StackPanel>
                                </GroupBox>
                            </Grid>
                        </GroupBox>
                    </ScrollViewer>
                </Grid>

                <Grid
                    Name="autoSendConfigPanel"
                    Margin="5"
                    DockPanel.Dock="Bottom"
                    Visibility="Visible">
                    <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
                        <GroupBox
                            BorderBrush="{Binding ElementName=serialPortConfigPanel, Path=BorderBrush}"
                            BorderThickness="{Binding ElementName=serialPortConfigPanel, Path=BorderThickness}"
                            Header="自动发送设置面板"
                            Style="{x:Null}">
                            <Grid Margin="0,5">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="10*" />
                                    <ColumnDefinition Width="10*" />
                                </Grid.ColumnDefinitions>
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock
                                        Grid.Column="0"
                                        Padding="5"
                                        TextAlignment="Center">
                                        自动发送时间间隔
                                    </TextBlock>
                                    <TextBox
                                        Name="autoSendIntervalTextBox"
                                        Grid.Column="1"
                                        Width="100"
                                        Margin="10,0"
                                        Padding="5"
                                        Text="1000"
                                        ToolTip="自动发送时间只有在启动自动发送前修改有效；发送过程中修改时间只会在下一次启动自动发送时生效。" />
                                    <ComboBox
                                        Name="timeUnitComboBox"
                                        Grid.Column="2"
                                        Width="60"
                                        Padding="5">
                                        <ComboBoxItem IsSelected="True">毫秒</ComboBoxItem>
                                        <ComboBoxItem>秒钟</ComboBoxItem>
                                        <ComboBoxItem>分钟</ComboBoxItem>
                                    </ComboBox>

                                </StackPanel>
                                <CheckBox
                                    Name="autoSendEnableCheckBox"
                                    Grid.Column="1"
                                    Margin="0,0,5,0"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Center"
                                    Click="autoSendEnableCheckBox_Click"
                                    ToolTip="使能后，必须要再次点击发送按钮才可以启动自动发送。">
                                    使能自动发送
                                </CheckBox>
                            </Grid>
                        </GroupBox>
                    </ScrollViewer>
                </Grid>
                <Grid Margin="5">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="85*" />
                        <RowDefinition Height="60" />
                    </Grid.RowDefinitions>
                    <GroupBox
                        Grid.Row="0"
                        BorderBrush="{Binding ElementName=serialPortConfigPanel, Path=BorderBrush}"
                        BorderThickness="{Binding ElementName=serialPortConfigPanel, Path=BorderThickness}"
                        Header="通讯数据显示区"
                        Style="{x:Null}">
                        <RichTextBox
                            Name="recvDataRichTextBox"
                            Margin="2,5"
                            BorderThickness="0"
                            IsReadOnly="True">
                            <FlowDocument
                                FontFamily="Lucida Console"
                                FontSize="14"
                                LineHeight="1.5" />
                        </RichTextBox>
                    </GroupBox>
                    <GroupBox
                        Grid.Row="1"
                        BorderBrush="{Binding ElementName=serialPortConfigPanel, Path=BorderBrush}"
                        BorderThickness="{Binding ElementName=serialPortConfigPanel, Path=BorderThickness}"
                        Header="发送区"
                        IsEnabled="{Binding ElementName=portsComboBox, Path=IsEnabled}"
                        Style="{x:Null}">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="80" />
                                <ColumnDefinition Width="80" />
                            </Grid.ColumnDefinitions>
                            <TextBox
                                Name="sendDataTextBox"
                                Grid.Column="0"
                                Height="24"
                                Margin="5,0,5,0"
                                Padding="5"
                                VerticalAlignment="Center"
                                FontFamily="Lucida Console">
                                Hello, world!
                            </TextBox>
                            <Button
                                Name="sendDataButton"
                                Grid.Column="1"
                                Width="70"
                                Height="24"
                                Padding="3"
                                Click="sendDataButton_Click"
                                Content="发送"
                                Style="{StaticResource ButtonPrimary}" />
                            <Button
                                Name="ReviewButton"
                                Grid.Column="2"
                                Width="70"
                                Height="24"
                                Padding="3"
                                Click="reviewDataButton_Click"
                                Content="记录"
                                Style="{StaticResource ButtonPrimary}" />
                            <Popup
                                Name="historyPopup"
                                AllowsTransparency="True"
                                Placement="Top"
                                PlacementTarget="{Binding ElementName=ReviewButton}"
                                PopupAnimation="Slide"
                                StaysOpen="False">
                                <Border
                                    Padding="5"
                                    Background="White"
                                    BorderBrush="Gray"
                                    BorderThickness="1"
                                    CornerRadius="4">
                                    <ScrollViewer
                                        Width="400"
                                        Height="150"
                                        VerticalScrollBarVisibility="Auto">
                                        <ListBox Name="historyListBox" MouseDoubleClick="historyListBox_MouseDoubleClick" />
                                    </ScrollViewer>
                                </Border>
                            </Popup>
                            <Grid />
                        </Grid>
                    </GroupBox>
                </Grid>
            </DockPanel>
        </Grid>
    </DockPanel>
</Window>
